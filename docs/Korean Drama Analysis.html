<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nhi Luong and James Le">
<meta name="dcterms.date" content="2025-11-02">

<title>Korean Drama Analysis – Nhi Luong</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Nhi Luong</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-science-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Data Science Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-science-projects">    
        <li>
    <a class="dropdown-item" href="./Korean Drama Analysis.html">
 <span class="dropdown-text">Korean Drama Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Airline Customer Reviews Analysis.html">
 <span class="dropdown-text">Airline Reviews Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./R_tip.html">
 <span class="dropdown-text">tmcn R Package</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-statistics-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Statistics Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-statistics-projects">    
        <li>
    <a class="dropdown-item" href="./Asian American QOL.html">
 <span class="dropdown-text">Asian American Quality of Life</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Spotify song characteristics.html">
 <span class="dropdown-text">Spotify Song Characteristics</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#context-and-background" id="toc-context-and-background" class="nav-link active" data-scroll-target="#context-and-background">Context and Background</a>
  <ul class="collapse">
  <li><a href="#imdb-ratings-across-original-networks" id="toc-imdb-ratings-across-original-networks" class="nav-link" data-scroll-target="#imdb-ratings-across-original-networks">IMDb Ratings Across Original Networks</a></li>
  <li><a href="#aired-day-of-k-drama-series" id="toc-aired-day-of-k-drama-series" class="nav-link" data-scroll-target="#aired-day-of-k-drama-series">Aired Day of K-drama Series</a></li>
  <li><a href="#k-drama-on-netflix-before-and-after-covid" id="toc-k-drama-on-netflix-before-and-after-covid" class="nav-link" data-scroll-target="#k-drama-on-netflix-before-and-after-covid">K-drama on Netflix Before and After Covid</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Korean Drama Analysis</h1>
<p class="subtitle lead">Fall 2024</p>
</div>



<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nhi Luong and James Le </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 2, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="context-and-background" class="level2">
<h2 class="anchored" data-anchor-id="context-and-background">Context and Background</h2>
<p>South Korea’s movies and TV series have played a crucial role in her intensive culture export efforts to boost the nation’s ability to “shape the preferences of others [country] through attraction of values, policies, and culture as distinct from coercion by economic and/or military means” (i.e.&nbsp;soft power) <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Its influence in the US specifically is undeniable as many Korean cultural products have become a part of the collective mainstream cultural landscape from Kpop music groups like BTS and Black Pink to the critically and commercially acclaimed show: Squid Game. The story of Squid Game focuses on the anxiety and hopelessness of the lower class and neglected groups, whose only option to escape poverty or paying gambling debt is to participate in life-staking children’s games for the entertainment of the ultra-wealthy.</p>
<p>Dive into the same mindset of capitalist horror is the film Parasite which is the first foreign film to win best picture from the Oscar and has been considered a historical step for the Korean media landscape, breaking the old US exclusive-winning convention of this category. These media provide a medium for many during and after the pandemics where the same sentiments of the public resonate with the message of these shows. How do South Korean shows make such an impact? What can we learn from one of the Four Asian Tigers <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> cultural production and publishing’s history and journey? In this project, we want to explore “Which original network has the highest number of Korean drama series on weekdays and weekends, and how does it compare to other days of the week?” and “Which original network has the highest variation in IMDb ratings, and how does it compare to others in terms of the median rating?” .</p>
<section id="imdb-ratings-across-original-networks" class="level3">
<h3 class="anchored" data-anchor-id="imdb-ratings-across-original-networks">IMDb Ratings Across Original Networks</h3>
<p>But how popular is the Korean Wave with its cultural products of television that have taken the world by storm and especially in the West? We would like to touch the surface of the Kdrama popularity through the IMDb rating of these shows while comparing them between networks to assess such impact. Here, we define original network of a show as a broadcasting channel that invests in the show and airs it first.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Korean-Drama-Analysis_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" alt="This is a box plot showing the IMDb ratings distribution for dramas from 21 Korean original networks. The x-axis represents IMDb ratings ranging from 0 to 10, and the y-axis lists the networks ordered by their median IMDb ratings with Netflix at the top and Naver TV Cast at the bottom. Most shows across all networks have ratings between 6 and 8. Netflix exhibits the highest median rating, while Naver TV Cast has the lowest median rating. Outliers are visible for several networks, indicating a few shows with exceptionally high or low ratings." width="672"></p>
<figcaption>Figure 1: IMDb Ratings distribution by Original Networks for Korean Dramas.This box plot illustrates the distribution of IMDb ratings for Korean dramas produced by 20 original networks. The data reveal that most networks have median ratings between 6 and 8. Netflix stands out with the highest median rating, while Naver TV Cast has the lowest. Outliers are present across several networks, suggesting significant variability in ratings for some shows. The data were collected from mydramalist.com and include IMDb ratings for 810 dramas spanning from 2002 to 2022. The figure provides a descriptive overview of users rating.</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observation</strong></p>
<ul>
<li>We explore the IMDb ratings distribution across 21 Korean original networks and see that Netflix has the highest median IMDb ratings, surpassing national public networks such as KBS, SBS, and MBC by half a point. Among these original networks, Netflix is one of a few original network that is a streaming service, but it is doing very well. As Netflix is a global streaming service, this suggests Netflix’s original Korean dramas are doing very well and receiving a lot of attention from global audience. This relates to the concept of soft power we discuss in the introduction where Korean culture and values are getting recognition from the international level.</li>
</ul>
</section>
<section id="aired-day-of-k-drama-series" class="level3">
<h3 class="anchored" data-anchor-id="aired-day-of-k-drama-series">Aired Day of K-drama Series</h3>
<p>One way to examine the strategy to their success would be through the classic strategy of TV networks in their choice of aired day to be competitive with other networks. We will visualized that concept through the top 10 original networks below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Korean-Drama-Analysis_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" alt="This is a faceted bar chart showing the distribution of Korean dramas by the day of the week they aired, categorized by their original networks. The x-axis represents the number of dramas released, ranging from 0 to 3000, while the y-axis lists from top to bottom Monday to Sunday of a week.. Each facet corresponds to the top 10 networks in order from top to bottom, left to right: jTBC, KBS1, KBS2, MBC, Naver TV Cast, Netflix, OCN, SBS and Viki. Networks like KBS2, SBS, and tvN dominate with the highest number of shows aired across the week, especially on Monday, Tuesday, Wednesday, Thursday, and Saturday." width="576"></p>
<figcaption>Figure 2: Number of Korean Drama Series by Days of the Week Across Top 10 Original Networks. This chart shows that KBS2, SBS, and tvN aired the highest number of Korean drama series, with peaks on Monday, Tuesday, Wednesday, Thursday, and Saturday. Data were collected from the publicly available website mydramalist.com, where users contribute information about Asian TV shows and movies. The dataset includes 810 distinct shows spanning from 2002 to 2022. No statistical tests were performed.</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observation</strong></p>
<ul>
<li>This graph illustrates that Tuesday and Wednesday are the most popular days for airing dramas across multiple networks. Conversely, Sundays and Fridays show relatively lower activity in terms of drama releases, indicating a preference for mid-week broadcasting. One possible explanation for these trends due to market demands. Sunday is the final weekend day which leads to lower viewership while the reason Friday has less demand might be due to overtime working/studying schedule or the population at large going out and not staying at home watching TV. Another notable observation would be that the top four networks dominated the market where KBS, MBC and SBS are public television networks and tvN is a private one. Each network also have their own airing strategies as tvN aired the most shows on Saturday, KBS on Monday and Tuesday while MBC have the highest proportion on Wednesday and Thursday. We can also observed that investment in the public sector (KBS, SBS) is as important as the private sector (tvN) for the television industry as the government heavily subsided the industry through investment in film education from the Korean Film Academy, interest-free or low-interest loans for enterprise <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> and tax policies<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> that encourage local business to invest in film production beside their own direct investment to the industry <a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</li>
</ul>
</section>
<section id="k-drama-on-netflix-before-and-after-covid" class="level3">
<h3 class="anchored" data-anchor-id="k-drama-on-netflix-before-and-after-covid">K-drama on Netflix Before and After Covid</h3>
<p>On March 11, 2020, WHO declared COVID-19 outbreak a global pandemic <a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> that continued to last for the next 3 years. Following the announcement was a string of global and national shutdowns. Because of that, more people spent more time inside watching shows on Netflix and got to learn more about Korean drama. In this section, we would like to look at Korean drama series on Netflix to identify changes in the number of drama series as well as the most popular genres among the series before and after the Covid pandemic. We have decided to use “2020” as a mark for before and after Covid pandemic instead of “March 2020” for simplicity.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Korean-Drama-Analysis_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" alt="A bar plot comparing counts of Korean drama shows Before 2020 and After 2020. The x axis represents the year categories with Before 2020 on the left and After 2020 on the right, while the y axis represents the number of shows, ranging from 0 to 2500 shows. The bar for Before 2020 has a height of 1170, meaning there are 1170 Korean drama series on Netflix before 2020, marked by a dashed red horizontal line. The bar for After 2020 has a height of 2382, meaning there are 2382 Korean drama series on Netflix after 2020, marked by a dashed blue horizontal line. The y axis is labeled with increments of 500, including custom labels at 1170 and 2382 for emphasis. The plot title reads Comparison of Counts Before and After 2020. We see that the number Korean shows on Netflix after 2020 is twice as much as the number Before 2020" width="576"></p>
<figcaption>Figure 3: The number of Korean drama series on Netflix after 2020 is two times greater than the number of Korean shows on Netflix before 2020. The data were collected from mydramalist.com and include IMDb ratings for 810 dramas spanning from 2002 to 2022. The years were grouped into two categorical groups for comparison. No statistical tests were performed.</figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li>We briefly look at the number of Korean drama shows on Netflix before 2020 and after 2020 and see that after the announcement of the COVID-19 a global pandemic up until 2022, Netflix has added 36 more Korean drama shows into their collection, showing Netflix’s interest in investing into Korean shows in these recent years. Naturally, our next question would be “Then does Netflix have a preference of Korean drama shows’ genres that they want to add that can attract more viewers?” We look at this question in the following graph.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Korean-Drama-Analysis_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" alt="A line graph titled Top 5 Korean Drama Genres on Netflix displays the number of shows with at least one of the top 5 genres from 2016 to 2022. The y axis represents Number of Shows ranging from 0 to 160, and the x axis represents Year Released ranging from 2016 to 2022 with a one year increment. The chart includes five colored lines, each representing a genre. Romance is black, action is orange, mystery is blue, thriller is green, and comedy is yellow. A vertical red line marks the year 2020 to compare the change in Korean drama genres on Netflix before and after Covid. A legend to the right identifies each genre by color. From the graph, we see genre romance shows significant growth over the years, peaking around 2020, dropping significantly in 2021, but climbing back in 2022. On the other hand, shows with mystery and thriller genres have a huge jump in number of shows between 2020 and 2021." width="768"></p>
<figcaption>Figure 3: Top 5 Korean Drama Genres on Netflix from 2016 to 2022. The red vertical line marks the transition year 2020. Shows with omance genres exhibited the fastest growth, peaking at around 155 in 2020. Data were sourced from the publicly available website mydramalist.com, where users contribute information about Asian TV shows and movies. No statistical tests were conducted.</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observation</strong></p>
<ul>
<li>This graph indicates a shift in focus toward action and romance genres while reducing investment in thriller and comedy content from Netflix in Kdrama. We can see that romance dramas experienced a sharp increase, peaking around 2020, followed by a slight decline but maintaining it’s top position even in 2022. The action genres initially grew at a slower pace but also grew significantly after 2020. Mystery and thriller genres followed similar trajectories, with significant activity between 2018 and 2020 but a noticeable decline after 2021. Comedy dramas showed a slower growing trend which peaked in 2019 and then declined gradually. The red vertical line marking 2020 reflects the impact of a pandemic which might change production priorities and viewer preferences.</li>
</ul>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Through the project, we have looked at IMDb ratings of Korean shows by original networks, their air day in the week, and changes of Korean shows on Netflix. We see that overall, the Korean drama industry is investing a lot into their shows so that the shows can be known more globally. As a result of their strategy and popularity of Korean drama, these shows receive more investment from Netflix and appear on the streaming service more, which makes a big profit for Netflix while as the same time receive worldwide popularity. We believe that Korean drama shows will continue to thrive even more in the future.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Marklund, Carl. “Soft Power.” International Encyclopedia of Human Geography, edited by Audrey Kobayashi, 2nd ed., Elsevier Science &amp; Technology, 2020. Credo Reference, <a href="https://search.credoreference.com/articles/Qm9va0FydGljbGU6NTkwMDQ=?aid=79650" class="uri">https://search.credoreference.com/articles/Qm9va0FydGljbGU6NTkwMDQ=?aid=79650</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Day, D.-C. “Four Asian Tigers’ Political and Economic Development Revisited 1998-2017: From the Perspective of National Identity”. Asian Journal of Interdisciplinary Research, vol.&nbsp;4, no. 4, Dec. 2021, pp.&nbsp;54-61, <a href="doi:10.54392/ajir2147" class="uri">doi:10.54392/ajir2147</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Kang, Jennifer M. “Better than Television: The Rise of Korean Web Dramas.” International Journal of Cultural Studies, vol.&nbsp;24, no. 6, May 2021, p.&nbsp;136787792110145, https://doi.org/10.1177/13678779211014532.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>PricewaterhouseCoopers International Limited. “Korea, Republic of - Corporate - Tax Credits and Incentives.” Pwc.com, 2024, taxsummaries.pwc.com/republic-of-korea/corporate/tax-credits-and-incentives. Accessed 12 Dec.&nbsp;2024.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Shim, Doobo. “Whiter the Korean Flim Industry?” Acta Koreana, vol.&nbsp;14, no. 1, June 2011, pp.&nbsp;213–27, https://doi.org/10.18399/acta.2011.14.1.010. Accessed 1 Apr.&nbsp;2020.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Cucinotta, Domenico, and Maurizio Vanelli. “WHO Declares COVID-19 a Pandemic.” Acta Bio Medica: Atenei Parmensis, vol.&nbsp;91, no. 1, 2020, pp.&nbsp;157–60. PubMed Central, https://doi.org/10.23750/abm.v91i1.9397.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>